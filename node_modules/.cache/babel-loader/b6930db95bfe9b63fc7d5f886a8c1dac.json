{"remainingRequest":"/Users/justincho/Documents/dev/justinmcho.github.io/node_modules/thread-loader/dist/cjs.js!/Users/justincho/Documents/dev/justinmcho.github.io/node_modules/babel-loader/lib/index.js!/Users/justincho/Documents/dev/justinmcho.github.io/node_modules/vuetify/lib/util/makeProps.mjs","dependencies":[{"path":"/Users/justincho/Documents/dev/justinmcho.github.io/node_modules/vuetify/lib/util/makeProps.mjs","mtime":499162500000},{"path":"/Users/justincho/Documents/dev/justinmcho.github.io/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/justincho/Documents/dev/justinmcho.github.io/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/justincho/Documents/dev/justinmcho.github.io/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2p1c3RpbmNoby9Eb2N1bWVudHMvZGV2L2p1c3Rpbm1jaG8uZ2l0aHViLmlvL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaXMtYXJyYXkuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwovLyBDb21wb3NhYmxlcwppbXBvcnQgeyB1c2VEZWZhdWx0cyB9IGZyb20gIi4uL2NvbXBvc2FibGVzL2RlZmF1bHRzLm1qcyI7IC8vIFV0aWxpdGllcwoKaW1wb3J0IHsgZ2V0Q3VycmVudEluc3RhbmNlIH0gZnJvbSAndnVlJzsKaW1wb3J0IHsgd3JhcEluQXJyYXkgfSBmcm9tICIuL2hlbHBlcnMubWpzIjsKaW1wb3J0IHsgY29uc29sZVdhcm4gfSBmcm9tICIuL2NvbnNvbGUubWpzIjsgLy8gVHlwZXMKCmV4cG9ydCBmdW5jdGlvbiBtYWtlUHJvcHMocHJvcHMpIHsKICBmb3IgKHZhciBrZXkgaW4gcHJvcHMpIHsKICAgIHZhciBvcmlnaW5hbFByb3AgPSBwcm9wc1trZXldOwogICAgdmFyIGlzT3B0aW9ucyA9ICEob3JpZ2luYWxQcm9wID09IG51bGwgfHwgQXJyYXkuaXNBcnJheShvcmlnaW5hbFByb3ApIHx8IHR5cGVvZiBvcmlnaW5hbFByb3AgPT09ICdmdW5jdGlvbicpOwogICAgdmFyIHByb3BEZWZpbml0aW9uID0gaXNPcHRpb25zID8gb3JpZ2luYWxQcm9wIDogewogICAgICB0eXBlOiBvcmlnaW5hbFByb3AKICAgIH07CiAgICB2YXIgb3JpZ2luYWxEZWZhdWx0ID0gcHJvcERlZmluaXRpb24uaGFzT3duUHJvcGVydHkoJ2RlZmF1bHQnKSA/IHByb3BEZWZpbml0aW9uWyJkZWZhdWx0Il0gOiBwcm9wRGVmaW5pdGlvbi50eXBlID09PSBCb29sZWFuIHx8IEFycmF5LmlzQXJyYXkocHJvcERlZmluaXRpb24udHlwZSkgJiYgcHJvcERlZmluaXRpb24udHlwZS5pbmNsdWRlcyhCb29sZWFuKSA/IGZhbHNlIDogdW5kZWZpbmVkOwogICAgdmFyIHdyYXBwZWREZWZhdWx0ID0gZ2VuZXJhdGVEZWZhdWx0KGtleSwgb3JpZ2luYWxEZWZhdWx0LCBwcm9wRGVmaW5pdGlvbi50eXBlKTsKICAgIHByb3BzW2tleV0gPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHByb3BEZWZpbml0aW9uKSwge30sIHsKICAgICAgImRlZmF1bHQiOiB3cmFwcGVkRGVmYXVsdAogICAgfSk7CiAgfQoKICByZXR1cm4gcHJvcHM7Cn0KCmZ1bmN0aW9uIGdlbmVyYXRlRGVmYXVsdChwcm9wTmFtZSwgbG9jYWxEZWZhdWx0LCB0eXBlKSB7CiAgcmV0dXJuIGZ1bmN0aW9uIChwcm9wcykgewogICAgdmFyIF9kZWZhdWx0cyR2YWx1ZSRnbG9iYSwgX2RlZmF1bHRzJHZhbHVlJHZtJHR5OwoKICAgIHZhciB2bSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpOwoKICAgIGlmICghdm0pIHsKICAgICAgY29uc29sZVdhcm4oJ1VuYWJsZSB0byBnZXQgY3VycmVudCBjb21wb25lbnQgaW5zdGFuY2Ugd2hlbiBnZW5lcmF0aW5nIGRlZmF1bHQgcHJvcCB2YWx1ZScpOwogICAgICByZXR1cm4gbG9jYWxEZWZhdWx0OwogICAgfQoKICAgIGlmICghdm0udHlwZS5uYW1lKSB7CiAgICAgIGNvbnNvbGVXYXJuKCdUaGUgY29tcG9uZW50IGlzIG1pc3NpbmcgYW4gZXhwbGljaXQgbmFtZSwgdW5hYmxlIHRvIGdlbmVyYXRlIGRlZmF1bHQgcHJvcCB2YWx1ZScpOwogICAgICByZXR1cm4gbG9jYWxEZWZhdWx0OwogICAgfQoKICAgIHZhciBkZWZhdWx0cyA9IHVzZURlZmF1bHRzKCk7CiAgICB2YXIgZ2xvYmFsRGVmYXVsdCA9IChfZGVmYXVsdHMkdmFsdWUkZ2xvYmEgPSBkZWZhdWx0cy52YWx1ZS5nbG9iYWwpID09IG51bGwgPyB2b2lkIDAgOiBfZGVmYXVsdHMkdmFsdWUkZ2xvYmFbcHJvcE5hbWVdOwogICAgdmFyIGNvbXBvbmVudERlZmF1bHQgPSAoX2RlZmF1bHRzJHZhbHVlJHZtJHR5ID0gZGVmYXVsdHMudmFsdWVbdm0udHlwZS5uYW1lXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9kZWZhdWx0cyR2YWx1ZSR2bSR0eVtwcm9wTmFtZV07CiAgICB2YXIgYWN0dWFsRGVmYXVsdCA9IHR5cGVvZiBjb21wb25lbnREZWZhdWx0ICE9PSAndW5kZWZpbmVkJyA/IGNvbXBvbmVudERlZmF1bHQgOiB0eXBlb2YgZ2xvYmFsRGVmYXVsdCAhPT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWxEZWZhdWx0IDogbG9jYWxEZWZhdWx0OwogICAgcmV0dXJuIGlzRmFjdG9yeShhY3R1YWxEZWZhdWx0LCB0eXBlKSA/IGFjdHVhbERlZmF1bHQocHJvcHMpIDogYWN0dWFsRGVmYXVsdDsKICB9Owp9IC8vIFdvdWxkIGJlIG5pY2UgdG8gaGF2ZSBQcm9wT3B0aW9ucyBoZXJlCgoKZnVuY3Rpb24gaXNGYWN0b3J5KHZhbCwgdHlwZSkgewogIHJldHVybiB0eXBlb2YgdmFsID09PSAnZnVuY3Rpb24nICYmICF3cmFwSW5BcnJheSh0eXBlKS5pbmNsdWRlcyhGdW5jdGlvbik7Cn0="},{"version":3,"sources":["../../src/util/makeProps.ts"],"names":["useDefaults","wrapInArray","consoleWarn","originalProp","props","isOptions","Array","propDefinition","type","originalDefault","wrappedDefault","generateDefault","default","vm","getCurrentInstance","defaults","globalDefault","componentDefault","actualDefault","isFactory"],"mappings":";;;;;AAAA;SACSA,W,uCAET;;AACA,SAAA,kBAAA,QAAA,KAAA;SACSC,W;SACAC,W,yBAET;;AAGA,OAAO,SAAA,SAAA,CAAA,KAAA,EAAyF;AAC9F,OAAK,IAAL,GAAA,IAAA,KAAA,EAAyB;AACvB,QAAMC,YAAY,GAAGC,KAAK,CAA1B,GAA0B,CAA1B;AACA,QAAMC,SAAS,GAAG,EAAEF,YAAY,IAAZA,IAAAA,IAAwBG,KAAK,CAALA,OAAAA,CAAxBH,YAAwBG,CAAxBH,IAAuD,OAAA,YAAA,KAA3E,UAAkB,CAAlB;AAEA,QAAMI,cAAc,GAAIF,SAAS,GAAA,YAAA,GAAkB;AAAEG,MAAAA,IAAI,EAAEL;AAAR,KAAnD;AACA,QAAMM,eAAe,GAAGF,cAAc,CAAdA,cAAAA,CAAAA,SAAAA,IACpBA,cADoBA,WAAAA,GAEpBA,cAAc,CAAdA,IAAAA,KAAAA,OAAAA,IAAoCD,KAAK,CAALA,OAAAA,CAAcC,cAAc,CAA5BD,IAAAA,KAAsCC,cAAc,CAAdA,IAAAA,CAAAA,QAAAA,CAA1EA,OAA0EA,CAA1EA,GAAAA,KAAAA,GAFJ,SAAA;AAMA,QAAMG,cAAc,GAAGC,eAAe,CAAA,GAAA,EAAA,eAAA,EAAuBJ,cAAc,CAA3E,IAAsC,CAAtC;AAEAH,IAAAA,KAAK,CAALA,GAAK,CAALA,mCAAa,cAAbA;AAEEQ,iBAASF;AAFXN;AAID;;AAED,SAAA,KAAA;AACD;;AAED,SAAA,eAAA,CAAA,QAAA,EAAA,YAAA,EAAA,IAAA,EAA0E;AACxE,SAAQA,UAAAA,KAAD,EAAoC;AAAA,QAAA,qBAAA,EAAA,qBAAA;;AACzC,QAAMS,EAAE,GAAGC,kBAAX,EAAA;;AAEA,QAAI,CAAJ,EAAA,EAAS;AACPZ,MAAAA,WAAW,CAAXA,6EAAW,CAAXA;AAEA,aAAA,YAAA;AACD;;AAED,QAAI,CAACW,EAAE,CAAFA,IAAAA,CAAL,IAAA,EAAmB;AACjBX,MAAAA,WAAW,CAAXA,kFAAW,CAAXA;AAEA,aAAA,YAAA;AACD;;AAED,QAAMa,QAAQ,GAAGf,WAAjB,EAAA;AACA,QAAMgB,aAAa,GAAA,CAAA,qBAAA,GAAGD,QAAQ,CAARA,KAAAA,CAAH,MAAA,KAAA,IAAA,GAAA,KAAA,CAAA,GAAGA,qBAAAA,CAAtB,QAAsBA,CAAtB;AACA,QAAME,gBAAgB,GAAA,CAAA,qBAAA,GAAGF,QAAQ,CAARA,KAAAA,CAAeF,EAAE,CAAFA,IAAAA,CAAlB,IAAGE,CAAH,KAAA,IAAA,GAAA,KAAA,CAAA,GAAGA,qBAAAA,CAAzB,QAAyBA,CAAzB;AACA,QAAMG,aAAa,GAAG,OAAA,gBAAA,KAAA,WAAA,GAAA,gBAAA,GAElB,OAAA,aAAA,KAAA,WAAA,GAAA,aAAA,GAFJ,YAAA;AAMA,WAAOC,SAAS,CAAA,aAAA,EAATA,IAAS,CAATA,GAAiCD,aAAa,CAA9CC,KAA8C,CAA9CA,GAAP,aAAA;AAxBF,GAAA;EA4BF;;;AACA,SAAA,SAAA,CAAA,GAAA,EAAA,IAAA,EAAyC;AACvC,SAAO,OAAA,GAAA,KAAA,UAAA,IAA6B,CAAClB,WAAW,CAAXA,IAAW,CAAXA,CAAAA,QAAAA,CAArC,QAAqCA,CAArC;AACD","sourcesContent":["// Composables\nimport { useDefaults } from '@/composables/defaults'\n\n// Utilities\nimport { getCurrentInstance } from 'vue'\nimport { wrapInArray } from './helpers'\nimport { consoleWarn } from './console'\n\n// Types\nimport type { Prop } from 'vue'\n\nexport function makeProps<P extends Record<string, Prop<any> & { source?: string }>> (props: P) {\n  for (const key in props) {\n    const originalProp = props[key]\n    const isOptions = !(originalProp == null || Array.isArray(originalProp) || typeof originalProp === 'function')\n\n    const propDefinition = (isOptions ? originalProp : { type: originalProp }) as any\n    const originalDefault = propDefinition.hasOwnProperty('default')\n      ? propDefinition.default\n      : propDefinition.type === Boolean || (Array.isArray(propDefinition.type) && propDefinition.type.includes(Boolean))\n        ? false\n        : undefined\n\n    const wrappedDefault = generateDefault(key, originalDefault, propDefinition.type)\n\n    props[key] = {\n      ...propDefinition,\n      default: wrappedDefault,\n    }\n  }\n\n  return props\n}\n\nfunction generateDefault (propName: string, localDefault: any, type: any) {\n  return (props: Record<string, unknown>) => {\n    const vm = getCurrentInstance()\n\n    if (!vm) {\n      consoleWarn('Unable to get current component instance when generating default prop value')\n\n      return localDefault\n    }\n\n    if (!vm.type.name) {\n      consoleWarn('The component is missing an explicit name, unable to generate default prop value')\n\n      return localDefault\n    }\n\n    const defaults = useDefaults()\n    const globalDefault = defaults.value.global?.[propName]\n    const componentDefault = defaults.value[vm.type.name]?.[propName]\n    const actualDefault = typeof componentDefault !== 'undefined'\n      ? componentDefault\n      : typeof globalDefault !== 'undefined'\n        ? globalDefault\n        : localDefault\n\n    return isFactory(actualDefault, type) ? actualDefault(props) : actualDefault\n  }\n}\n\n// Would be nice to have PropOptions here\nfunction isFactory (val: any, type: any) {\n  return typeof val === 'function' && !wrapInArray(type).includes(Function)\n}\n"]}]}