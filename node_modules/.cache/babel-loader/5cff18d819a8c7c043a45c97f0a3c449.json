{"remainingRequest":"/Users/justincho/Documents/dev/justinmcho.github.io/node_modules/thread-loader/dist/cjs.js!/Users/justincho/Documents/dev/justinmcho.github.io/node_modules/babel-loader/lib/index.js!/Users/justincho/Documents/dev/justinmcho.github.io/node_modules/vuetify/lib/directives/touch/index.mjs","dependencies":[{"path":"/Users/justincho/Documents/dev/justinmcho.github.io/node_modules/vuetify/lib/directives/touch/index.mjs","mtime":499162500000},{"path":"/Users/justincho/Documents/dev/justinmcho.github.io/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/justincho/Documents/dev/justinmcho.github.io/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/justincho/Documents/dev/justinmcho.github.io/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2p1c3RpbmNoby9Eb2N1bWVudHMvZGV2L2p1c3Rpbm1jaG8uZ2l0aHViLmlvL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmNyZWF0ZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7Ci8vIFR5cGVzCi8vIFV0aWxpdGllcwppbXBvcnQgeyBrZXlzIH0gZnJvbSAiLi4vLi4vdXRpbC9pbmRleC5tanMiOwoKdmFyIGhhbmRsZUdlc3R1cmUgPSBmdW5jdGlvbiBoYW5kbGVHZXN0dXJlKHdyYXBwZXIpIHsKICB2YXIgdG91Y2hzdGFydFggPSB3cmFwcGVyLnRvdWNoc3RhcnRYLAogICAgICB0b3VjaGVuZFggPSB3cmFwcGVyLnRvdWNoZW5kWCwKICAgICAgdG91Y2hzdGFydFkgPSB3cmFwcGVyLnRvdWNoc3RhcnRZLAogICAgICB0b3VjaGVuZFkgPSB3cmFwcGVyLnRvdWNoZW5kWTsKICB2YXIgZGlyUmF0aW8gPSAwLjU7CiAgdmFyIG1pbkRpc3RhbmNlID0gMTY7CiAgd3JhcHBlci5vZmZzZXRYID0gdG91Y2hlbmRYIC0gdG91Y2hzdGFydFg7CiAgd3JhcHBlci5vZmZzZXRZID0gdG91Y2hlbmRZIC0gdG91Y2hzdGFydFk7CgogIGlmIChNYXRoLmFicyh3cmFwcGVyLm9mZnNldFkpIDwgZGlyUmF0aW8gKiBNYXRoLmFicyh3cmFwcGVyLm9mZnNldFgpKSB7CiAgICB3cmFwcGVyLmxlZnQgJiYgdG91Y2hlbmRYIDwgdG91Y2hzdGFydFggLSBtaW5EaXN0YW5jZSAmJiB3cmFwcGVyLmxlZnQod3JhcHBlcik7CiAgICB3cmFwcGVyLnJpZ2h0ICYmIHRvdWNoZW5kWCA+IHRvdWNoc3RhcnRYICsgbWluRGlzdGFuY2UgJiYgd3JhcHBlci5yaWdodCh3cmFwcGVyKTsKICB9CgogIGlmIChNYXRoLmFicyh3cmFwcGVyLm9mZnNldFgpIDwgZGlyUmF0aW8gKiBNYXRoLmFicyh3cmFwcGVyLm9mZnNldFkpKSB7CiAgICB3cmFwcGVyLnVwICYmIHRvdWNoZW5kWSA8IHRvdWNoc3RhcnRZIC0gbWluRGlzdGFuY2UgJiYgd3JhcHBlci51cCh3cmFwcGVyKTsKICAgIHdyYXBwZXIuZG93biAmJiB0b3VjaGVuZFkgPiB0b3VjaHN0YXJ0WSArIG1pbkRpc3RhbmNlICYmIHdyYXBwZXIuZG93bih3cmFwcGVyKTsKICB9Cn07CgpmdW5jdGlvbiBfdG91Y2hzdGFydChldmVudCwgd3JhcHBlcikgewogIHZhciBfd3JhcHBlciRzdGFydDsKCiAgdmFyIHRvdWNoID0gZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF07CiAgd3JhcHBlci50b3VjaHN0YXJ0WCA9IHRvdWNoLmNsaWVudFg7CiAgd3JhcHBlci50b3VjaHN0YXJ0WSA9IHRvdWNoLmNsaWVudFk7CiAgKF93cmFwcGVyJHN0YXJ0ID0gd3JhcHBlci5zdGFydCkgPT0gbnVsbCA/IHZvaWQgMCA6IF93cmFwcGVyJHN0YXJ0LmNhbGwod3JhcHBlciwgX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBldmVudCksIHdyYXBwZXIpKTsKfQoKZnVuY3Rpb24gX3RvdWNoZW5kKGV2ZW50LCB3cmFwcGVyKSB7CiAgdmFyIF93cmFwcGVyJGVuZDsKCiAgdmFyIHRvdWNoID0gZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF07CiAgd3JhcHBlci50b3VjaGVuZFggPSB0b3VjaC5jbGllbnRYOwogIHdyYXBwZXIudG91Y2hlbmRZID0gdG91Y2guY2xpZW50WTsKICAoX3dyYXBwZXIkZW5kID0gd3JhcHBlci5lbmQpID09IG51bGwgPyB2b2lkIDAgOiBfd3JhcHBlciRlbmQuY2FsbCh3cmFwcGVyLCBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGV2ZW50KSwgd3JhcHBlcikpOwogIGhhbmRsZUdlc3R1cmUod3JhcHBlcik7Cn0KCmZ1bmN0aW9uIF90b3VjaG1vdmUoZXZlbnQsIHdyYXBwZXIpIHsKICB2YXIgX3dyYXBwZXIkbW92ZTsKCiAgdmFyIHRvdWNoID0gZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF07CiAgd3JhcHBlci50b3VjaG1vdmVYID0gdG91Y2guY2xpZW50WDsKICB3cmFwcGVyLnRvdWNobW92ZVkgPSB0b3VjaC5jbGllbnRZOwogIChfd3JhcHBlciRtb3ZlID0gd3JhcHBlci5tb3ZlKSA9PSBudWxsID8gdm9pZCAwIDogX3dyYXBwZXIkbW92ZS5jYWxsKHdyYXBwZXIsIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgZXZlbnQpLCB3cmFwcGVyKSk7Cn0KCmZ1bmN0aW9uIGNyZWF0ZUhhbmRsZXJzKCkgewogIHZhciB2YWx1ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307CiAgdmFyIHdyYXBwZXIgPSB7CiAgICB0b3VjaHN0YXJ0WDogMCwKICAgIHRvdWNoc3RhcnRZOiAwLAogICAgdG91Y2hlbmRYOiAwLAogICAgdG91Y2hlbmRZOiAwLAogICAgdG91Y2htb3ZlWDogMCwKICAgIHRvdWNobW92ZVk6IDAsCiAgICBvZmZzZXRYOiAwLAogICAgb2Zmc2V0WTogMCwKICAgIGxlZnQ6IHZhbHVlLmxlZnQsCiAgICByaWdodDogdmFsdWUucmlnaHQsCiAgICB1cDogdmFsdWUudXAsCiAgICBkb3duOiB2YWx1ZS5kb3duLAogICAgc3RhcnQ6IHZhbHVlLnN0YXJ0LAogICAgbW92ZTogdmFsdWUubW92ZSwKICAgIGVuZDogdmFsdWUuZW5kCiAgfTsKICByZXR1cm4gewogICAgdG91Y2hzdGFydDogZnVuY3Rpb24gdG91Y2hzdGFydChlKSB7CiAgICAgIHJldHVybiBfdG91Y2hzdGFydChlLCB3cmFwcGVyKTsKICAgIH0sCiAgICB0b3VjaGVuZDogZnVuY3Rpb24gdG91Y2hlbmQoZSkgewogICAgICByZXR1cm4gX3RvdWNoZW5kKGUsIHdyYXBwZXIpOwogICAgfSwKICAgIHRvdWNobW92ZTogZnVuY3Rpb24gdG91Y2htb3ZlKGUpIHsKICAgICAgcmV0dXJuIF90b3VjaG1vdmUoZSwgd3JhcHBlcik7CiAgICB9CiAgfTsKfQoKZnVuY3Rpb24gbW91bnRlZChlbCwgYmluZGluZykgewogIHZhciBfdmFsdWUkb3B0aW9ucywgX2JpbmRpbmckaW5zdGFuY2UsIF90YXJnZXQkX3RvdWNoSGFuZGxlcjsKCiAgdmFyIHZhbHVlID0gYmluZGluZy52YWx1ZTsKICB2YXIgdGFyZ2V0ID0gdmFsdWUgIT0gbnVsbCAmJiB2YWx1ZS5wYXJlbnQgPyBlbC5wYXJlbnRFbGVtZW50IDogZWw7CiAgdmFyIG9wdGlvbnMgPSAoX3ZhbHVlJG9wdGlvbnMgPSB2YWx1ZSA9PSBudWxsID8gdm9pZCAwIDogdmFsdWUub3B0aW9ucykgIT0gbnVsbCA/IF92YWx1ZSRvcHRpb25zIDogewogICAgcGFzc2l2ZTogdHJ1ZQogIH07CiAgdmFyIHVpZCA9IChfYmluZGluZyRpbnN0YW5jZSA9IGJpbmRpbmcuaW5zdGFuY2UpID09IG51bGwgPyB2b2lkIDAgOiBfYmluZGluZyRpbnN0YW5jZS4kLnVpZDsgLy8gVE9ETzogdXNlIGN1c3RvbSB1aWQgZ2VuZXJhdG9yCgogIGlmICghdGFyZ2V0IHx8ICF1aWQpIHJldHVybjsKICB2YXIgaGFuZGxlcnMgPSBjcmVhdGVIYW5kbGVycyhiaW5kaW5nLnZhbHVlKTsKICB0YXJnZXQuX3RvdWNoSGFuZGxlcnMgPSAoX3RhcmdldCRfdG91Y2hIYW5kbGVyID0gdGFyZ2V0Ll90b3VjaEhhbmRsZXJzKSAhPSBudWxsID8gX3RhcmdldCRfdG91Y2hIYW5kbGVyIDogT2JqZWN0LmNyZWF0ZShudWxsKTsKICB0YXJnZXQuX3RvdWNoSGFuZGxlcnNbdWlkXSA9IGhhbmRsZXJzOwogIGtleXMoaGFuZGxlcnMpLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50TmFtZSkgewogICAgdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBoYW5kbGVyc1tldmVudE5hbWVdLCBvcHRpb25zKTsKICB9KTsKfQoKZnVuY3Rpb24gdW5tb3VudGVkKGVsLCBiaW5kaW5nKSB7CiAgdmFyIF9iaW5kaW5nJHZhbHVlLCBfYmluZGluZyRpbnN0YW5jZTI7CgogIHZhciB0YXJnZXQgPSAoX2JpbmRpbmckdmFsdWUgPSBiaW5kaW5nLnZhbHVlKSAhPSBudWxsICYmIF9iaW5kaW5nJHZhbHVlLnBhcmVudCA/IGVsLnBhcmVudEVsZW1lbnQgOiBlbDsKICB2YXIgdWlkID0gKF9iaW5kaW5nJGluc3RhbmNlMiA9IGJpbmRpbmcuaW5zdGFuY2UpID09IG51bGwgPyB2b2lkIDAgOiBfYmluZGluZyRpbnN0YW5jZTIuJC51aWQ7CiAgaWYgKCEodGFyZ2V0ICE9IG51bGwgJiYgdGFyZ2V0Ll90b3VjaEhhbmRsZXJzKSB8fCAhdWlkKSByZXR1cm47CiAgdmFyIGhhbmRsZXJzID0gdGFyZ2V0Ll90b3VjaEhhbmRsZXJzW3VpZF07CiAga2V5cyhoYW5kbGVycykuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnROYW1lKSB7CiAgICB0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGhhbmRsZXJzW2V2ZW50TmFtZV0pOwogIH0pOwogIGRlbGV0ZSB0YXJnZXQuX3RvdWNoSGFuZGxlcnNbdWlkXTsKfQoKZXhwb3J0IHZhciBUb3VjaCA9IHsKICBtb3VudGVkOiBtb3VudGVkLAogIHVubW91bnRlZDogdW5tb3VudGVkCn07CmV4cG9ydCBkZWZhdWx0IFRvdWNoOw=="},{"version":3,"sources":["../../../src/directives/touch/index.ts"],"names":["keys","handleGesture","wrapper","touchendY","dirRatio","minDistance","touchendX","Math","touchstartX","touchstartY","touch","event","value","touchmoveX","touchmoveY","offsetX","offsetY","left","right","up","down","start","move","end","touchstart","e","touchend","touchmove","binding","target","el","options","passive","uid","handlers","createHandlers","Object","eventName","Touch","mounted","unmounted"],"mappings":"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","sourcesContent":["// Types\nimport type {\n  DirectiveBinding,\n  ObjectDirective,\n} from 'vue'\n\n// Utilities\nimport { keys } from '@/util'\n\nexport interface TouchHandlers {\n  start?: (wrapperEvent: TouchEvent & TouchWrapper) => void\n  end?: (wrapperEvent: TouchEvent & TouchWrapper) => void\n  move?: (wrapperEvent: TouchEvent & TouchWrapper) => void\n  left?: (wrapper: TouchWrapper) => void\n  right?: (wrapper: TouchWrapper) => void\n  up?: (wrapper: TouchWrapper) => void\n  down?: (wrapper: TouchWrapper) => void\n}\n\nexport interface TouchWrapper extends TouchHandlers {\n  touchstartX: number\n  touchstartY: number\n  touchmoveX: number\n  touchmoveY: number\n  touchendX: number\n  touchendY: number\n  offsetX: number\n  offsetY: number\n}\n\nexport interface TouchValue extends TouchHandlers {\n  parent?: boolean\n  options?: AddEventListenerOptions\n}\n\nexport interface TouchStoredHandlers {\n  touchstart: (e: TouchEvent) => void\n  touchend: (e: TouchEvent) => void\n  touchmove: (e: TouchEvent) => void\n}\n\ninterface TouchDirectiveBinding extends Omit<DirectiveBinding, 'value'> {\n  value?: TouchValue\n}\n\nconst handleGesture = (wrapper: TouchWrapper) => {\n  const { touchstartX, touchendX, touchstartY, touchendY } = wrapper\n  const dirRatio = 0.5\n  const minDistance = 16\n  wrapper.offsetX = touchendX - touchstartX\n  wrapper.offsetY = touchendY - touchstartY\n\n  if (Math.abs(wrapper.offsetY) < dirRatio * Math.abs(wrapper.offsetX)) {\n    wrapper.left && (touchendX < touchstartX - minDistance) && wrapper.left(wrapper)\n    wrapper.right && (touchendX > touchstartX + minDistance) && wrapper.right(wrapper)\n  }\n\n  if (Math.abs(wrapper.offsetX) < dirRatio * Math.abs(wrapper.offsetY)) {\n    wrapper.up && (touchendY < touchstartY - minDistance) && wrapper.up(wrapper)\n    wrapper.down && (touchendY > touchstartY + minDistance) && wrapper.down(wrapper)\n  }\n}\n\nfunction touchstart (event: TouchEvent, wrapper: TouchWrapper) {\n  const touch = event.changedTouches[0]\n  wrapper.touchstartX = touch.clientX\n  wrapper.touchstartY = touch.clientY\n\n  wrapper.start?.({ ...event, ...wrapper })\n}\n\nfunction touchend (event: TouchEvent, wrapper: TouchWrapper) {\n  const touch = event.changedTouches[0]\n  wrapper.touchendX = touch.clientX\n  wrapper.touchendY = touch.clientY\n\n  wrapper.end?.({ ...event, ...wrapper })\n\n  handleGesture(wrapper)\n}\n\nfunction touchmove (event: TouchEvent, wrapper: TouchWrapper) {\n  const touch = event.changedTouches[0]\n  wrapper.touchmoveX = touch.clientX\n  wrapper.touchmoveY = touch.clientY\n\n  wrapper.move?.({ ...event, ...wrapper })\n}\n\nfunction createHandlers (value: TouchHandlers = {}): TouchStoredHandlers {\n  const wrapper = {\n    touchstartX: 0,\n    touchstartY: 0,\n    touchendX: 0,\n    touchendY: 0,\n    touchmoveX: 0,\n    touchmoveY: 0,\n    offsetX: 0,\n    offsetY: 0,\n    left: value.left,\n    right: value.right,\n    up: value.up,\n    down: value.down,\n    start: value.start,\n    move: value.move,\n    end: value.end,\n  }\n\n  return {\n    touchstart: (e: TouchEvent) => touchstart(e, wrapper),\n    touchend: (e: TouchEvent) => touchend(e, wrapper),\n    touchmove: (e: TouchEvent) => touchmove(e, wrapper),\n  }\n}\n\nfunction mounted (el: HTMLElement, binding: TouchDirectiveBinding) {\n  const value = binding.value\n  const target = value?.parent ? el.parentElement : el\n  const options = value?.options ?? { passive: true }\n  const uid = binding.instance?.$.uid // TODO: use custom uid generator\n\n  if (!target || !uid) return\n\n  const handlers = createHandlers(binding.value)\n\n  target._touchHandlers = target._touchHandlers ?? Object.create(null)\n  target._touchHandlers![uid] = handlers\n\n  keys(handlers).forEach(eventName => {\n    target.addEventListener(eventName, handlers[eventName], options)\n  })\n}\n\nfunction unmounted (el: HTMLElement, binding: TouchDirectiveBinding) {\n  const target = binding.value?.parent ? el.parentElement : el\n  const uid = binding.instance?.$.uid\n\n  if (!target?._touchHandlers || !uid) return\n\n  const handlers = target._touchHandlers[uid]\n\n  keys(handlers).forEach(eventName => {\n    target.removeEventListener(eventName, handlers[eventName])\n  })\n\n  delete target._touchHandlers[uid]\n}\n\nexport const Touch: ObjectDirective = {\n  mounted,\n  unmounted,\n}\n\nexport default Touch\n"]}]}