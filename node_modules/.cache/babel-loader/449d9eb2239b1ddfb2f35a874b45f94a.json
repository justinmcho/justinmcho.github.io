{"remainingRequest":"/Users/justincho/Documents/dev/justinmcho.github.io/node_modules/babel-loader/lib/index.js!/Users/justincho/Documents/dev/justinmcho.github.io/node_modules/vuetify/lib/composables/router.mjs","dependencies":[{"path":"/Users/justincho/Documents/dev/justinmcho.github.io/node_modules/vuetify/lib/composables/router.mjs","mtime":499162500000},{"path":"/Users/justincho/Documents/dev/justinmcho.github.io/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/justincho/Documents/dev/justinmcho.github.io/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2p1c3RpbmNoby9Eb2N1bWVudHMvZGV2L2p1c3Rpbm1jaG8uZ2l0aHViLmlvL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnRpbWVycy5qcyI7Ci8vIFV0aWxpdGllcwppbXBvcnQgeyBwcm9wc0ZhY3RvcnkgfSBmcm9tICIuLi91dGlsL2luZGV4Lm1qcyI7CmltcG9ydCB7IGNvbXB1dGVkLCBnZXRDdXJyZW50SW5zdGFuY2UsIG9uQmVmb3JlVW5tb3VudCwgb25Nb3VudGVkLCByZXNvbHZlRHluYW1pY0NvbXBvbmVudCwgdG9SZWYgfSBmcm9tICd2dWUnOyAvLyBUeXBlcwoKZXhwb3J0IGZ1bmN0aW9uIHVzZVJvdXRlKCkgewogIHZhciB2bSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpOwogIHJldHVybiBjb21wdXRlZChmdW5jdGlvbiAoKSB7CiAgICB2YXIgX3ZtJHByb3h5OwoKICAgIHJldHVybiB2bSA9PSBudWxsID8gdm9pZCAwIDogKF92bSRwcm94eSA9IHZtLnByb3h5KSA9PSBudWxsID8gdm9pZCAwIDogX3ZtJHByb3h5LiRyb3V0ZTsKICB9KTsKfQpleHBvcnQgZnVuY3Rpb24gdXNlUm91dGVyKCkgewogIHZhciBfZ2V0Q3VycmVudEluc3RhbmNlLCBfZ2V0Q3VycmVudEluc3RhbmNlJHA7CgogIHJldHVybiAoX2dldEN1cnJlbnRJbnN0YW5jZSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpKSA9PSBudWxsID8gdm9pZCAwIDogKF9nZXRDdXJyZW50SW5zdGFuY2UkcCA9IF9nZXRDdXJyZW50SW5zdGFuY2UucHJveHkpID09IG51bGwgPyB2b2lkIDAgOiBfZ2V0Q3VycmVudEluc3RhbmNlJHAuJHJvdXRlcjsKfQpleHBvcnQgZnVuY3Rpb24gdXNlTGluayhwcm9wcywgYXR0cnMpIHsKICB2YXIgUm91dGVyTGluayA9IHJlc29sdmVEeW5hbWljQ29tcG9uZW50KCdSb3V0ZXJMaW5rJyk7CiAgdmFyIGlzTGluayA9IGNvbXB1dGVkKGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiAhIShwcm9wcy5ocmVmIHx8IHByb3BzLnRvKTsKICB9KTsKICB2YXIgaXNDbGlja2FibGUgPSBjb21wdXRlZChmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gKGlzTGluayA9PSBudWxsID8gdm9pZCAwIDogaXNMaW5rLnZhbHVlKSB8fCAhIShhdHRycy5vbkNsaWNrIHx8IGF0dHJzLm9uQ2xpY2tPbmNlKTsKICB9KTsKCiAgaWYgKHR5cGVvZiBSb3V0ZXJMaW5rID09PSAnc3RyaW5nJykgewogICAgcmV0dXJuIHsKICAgICAgaXNMaW5rOiBpc0xpbmssCiAgICAgIGlzQ2xpY2thYmxlOiBpc0NsaWNrYWJsZSwKICAgICAgaHJlZjogdG9SZWYocHJvcHMsICdocmVmJykKICAgIH07CiAgfQoKICB2YXIgbGluayA9IHByb3BzLnRvID8gUm91dGVyTGluay51c2VMaW5rKHByb3BzKSA6IHVuZGVmaW5lZDsKICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBsaW5rKSwge30sIHsKICAgIGlzTGluazogaXNMaW5rLAogICAgaXNDbGlja2FibGU6IGlzQ2xpY2thYmxlLAogICAgaHJlZjogY29tcHV0ZWQoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gcHJvcHMudG8gPyBsaW5rID09IG51bGwgPyB2b2lkIDAgOiBsaW5rLnJvdXRlLnZhbHVlLmhyZWYgOiBwcm9wcy5ocmVmOwogICAgfSkKICB9KTsKfQpleHBvcnQgdmFyIG1ha2VSb3V0ZXJQcm9wcyA9IHByb3BzRmFjdG9yeSh7CiAgaHJlZjogU3RyaW5nLAogIHJlcGxhY2U6IEJvb2xlYW4sCiAgdG86IFtTdHJpbmcsIE9iamVjdF0KfSwgJ3JvdXRlcicpOwpleHBvcnQgZnVuY3Rpb24gdXNlQmFja0J1dHRvbihjYikgewogIHZhciByb3V0ZXIgPSB1c2VSb3V0ZXIoKTsKICB2YXIgcG9wcGVkID0gZmFsc2U7CiAgdmFyIHJlbW92ZUd1YXJkOwogIG9uTW91bnRlZChmdW5jdGlvbiAoKSB7CiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncG9wc3RhdGUnLCBvblBvcHN0YXRlKTsKICAgIHJlbW92ZUd1YXJkID0gcm91dGVyID09IG51bGwgPyB2b2lkIDAgOiByb3V0ZXIuYmVmb3JlRWFjaChmdW5jdGlvbiAodG8sIGZyb20sIG5leHQpIHsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHBvcHBlZCA/IGNiKG5leHQpIDogbmV4dCgpOwogICAgICB9KTsKICAgIH0pOwogIH0pOwogIG9uQmVmb3JlVW5tb3VudChmdW5jdGlvbiAoKSB7CiAgICB2YXIgX3JlbW92ZUd1YXJkOwoKICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdwb3BzdGF0ZScsIG9uUG9wc3RhdGUpOwogICAgKF9yZW1vdmVHdWFyZCA9IHJlbW92ZUd1YXJkKSA9PSBudWxsID8gdm9pZCAwIDogX3JlbW92ZUd1YXJkKCk7CiAgfSk7CgogIGZ1bmN0aW9uIG9uUG9wc3RhdGUoZSkgewogICAgaWYgKGUuc3RhdGUucmVwbGFjZWQpIHJldHVybjsKICAgIHBvcHBlZCA9IHRydWU7CiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHBvcHBlZCA9IGZhbHNlOwogICAgfSk7CiAgfQp9"},{"version":3,"sources":["../../src/composables/router.tsx"],"names":["propsFactory","vm","getCurrentInstance","computed","RouterLink","resolveDynamicComponent","isLink","props","isClickable","attrs","href","toRef","link","makeRouterProps","replace","to","router","useRouter","popped","onMounted","window","removeGuard","setTimeout","cb","next","onBeforeUnmount","e"],"mappings":"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","sourcesContent":["// Utilities\nimport { propsFactory } from '@/util'\nimport {\n  computed,\n  getCurrentInstance,\n  onBeforeUnmount,\n  onMounted,\n  resolveDynamicComponent,\n  toRef,\n} from 'vue'\n\n// Types\nimport type { ComputedRef, PropType, Ref, SetupContext } from 'vue'\nimport type {\n  RouterLink as _RouterLink,\n  useLink as _useLink,\n  NavigationGuardNext,\n  RouteLocationNormalizedLoaded,\n  RouteLocationRaw,\n  Router,\n  UseLinkOptions,\n} from 'vue-router'\n\nexport function useRoute (): Ref<RouteLocationNormalizedLoaded | undefined> {\n  const vm = getCurrentInstance()\n\n  return computed(() => vm?.proxy?.$route)\n}\n\nexport function useRouter (): Router | undefined {\n  return getCurrentInstance()?.proxy?.$router\n}\n\ninterface LinkProps extends Partial<UseLinkOptions> {\n  href?: string\n}\n\ninterface UseLink extends Omit<Partial<ReturnType<typeof _useLink>>, 'href'> {\n  isLink: ComputedRef<boolean>\n  isClickable: ComputedRef<boolean>\n  href: Ref<string | undefined>\n}\n\nexport function useLink (props: LinkProps, attrs: SetupContext['attrs']): UseLink {\n  const RouterLink = resolveDynamicComponent('RouterLink') as typeof _RouterLink | string\n\n  const isLink = computed(() => !!(props.href || props.to))\n  const isClickable = computed(() => {\n    return isLink?.value || !!(attrs.onClick || attrs.onClickOnce)\n  })\n\n  if (typeof RouterLink === 'string') {\n    return {\n      isLink,\n      isClickable,\n      href: toRef(props, 'href'),\n    }\n  }\n\n  const link = props.to ? RouterLink.useLink(props as UseLinkOptions) : undefined\n\n  return {\n    ...link,\n    isLink,\n    isClickable,\n    href: computed(() => props.to ? link?.route.value.href : props.href),\n  }\n}\n\nexport const makeRouterProps = propsFactory({\n  href: String,\n  replace: Boolean,\n  to: [String, Object] as PropType<RouteLocationRaw>,\n}, 'router')\n\nexport function useBackButton (cb: (next: NavigationGuardNext) => void) {\n  const router = useRouter()\n  let popped = false\n  let removeGuard: (() => void) | undefined\n\n  onMounted(() => {\n    window.addEventListener('popstate', onPopstate)\n    removeGuard = router?.beforeEach((to, from, next) => {\n      setTimeout(() => popped ? cb(next) : next())\n    })\n  })\n  onBeforeUnmount(() => {\n    window.removeEventListener('popstate', onPopstate)\n    removeGuard?.()\n  })\n\n  function onPopstate (e: PopStateEvent) {\n    if (e.state.replaced) return\n\n    popped = true\n    setTimeout(() => (popped = false))\n  }\n}\n"]}]}